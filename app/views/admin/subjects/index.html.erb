<% provide :title, t("subject.all") %>
<h1><%= t "subject.all" %></h1><br>

<div>
  <%= form_tag admin_subjects_path, method: :get do %>
    <div class="row">
      <div class="col-md-4 col-md-offset-3">
        <%= text_field_tag :search, params[:search] %>
      </div>
      <div class="col-md-2">
        <%= submit_tag t(:search), name: "find" %>
      </div>
    </div>
  <% end %>
</div>
<table class="table sortable table-bordered">
  <thead>
    <tr>
      <th><%= t "subject.id "%></th>
      <th><%= t "subject.name" %></th>
      <th><%= t "subject.duration" %></th>
      <th><%= t "subject.description" %></th>
      <th><%= t "subject.numques" %></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% @subjects.each do |subject| %>
      <tr>
        <td><%= subject.id %></td>
        <td><%= link_to subject.name, admin_subject_path(subject) %></td>
        <td><%= subject.duration %></td>
        <td><%= subject.description %></td>
        <td><%= subject.questions.size %></td>
        <td>
          <div>
            <button type="button" class="btn btn-warning btn-xs
              glyphicon glyphicon-edit" data-toggle="modal"
              data-target="#myModal"><%= t "edit.content" %>
            </button>
            <div id="myModal" class="modal fade" role="dialog">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                      &times;
                    </button>
                    <h4 class="modal-title"><%= t "subject.submit" %></h4>
                  </div>
                  <div class="modal-body">
                    <%= form_for [:admin, @subject] do |f| %>
                      <%= render "subject_form" %>
                      <%= f.submit t("edit.submit"), class: "btn btn-primary" %>
                    <% end %>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-default"
                      data-dismiss="modal">
                      <%= t :close %>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
